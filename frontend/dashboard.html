<!DOCTYPE html>
<html class="light" lang="en">

<head>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<title>Universal Dashboard</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&amp;display=swap"
		rel="stylesheet" />
	<link
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
		rel="stylesheet" />
	<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
	<style>
		.material-symbols-outlined {
			font-variation-settings:
				'FILL' 0,
				'wght' 400,
				'GRAD' 0,
				'opsz' 24
		}
	</style>
	<script id="tailwind-config">
		tailwind.config = {
			darkMode: "class",
			theme: {
				extend: {
					colors: {
						"primary": "#137fec",
						"background-light": "#f6f7f8",
						"background-dark": "#101922",
						"neutral-text": "#4A4A4A"
					},
					fontFamily: {
						"display": ["Inter", "sans-serif"]
					},
					borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
				},
			},
		}
	</script>
	<script src="config.js"></script>
	<script src="auth.js"></script>
</head>

<body class="font-display bg-background-light dark:bg-background-dark text-neutral-text dark:text-gray-200">
	<div class="relative flex h-auto min-h-screen w-full group/design-root">
		<div class="flex-shrink-0 bg-white dark:bg-gray-900/50 border-r border-gray-200 dark:border-gray-700 flex flex-col w-64 transition-all duration-300">
			<div class="flex items-center gap-4 px-6 py-3 border-b border-gray-200 dark:border-gray-700 h-[65px]">
				<span class="material-symbols-outlined text-primary text-3xl">data_usage</span>
				<h2 class="text-neutral-text dark:text-white text-lg font-bold leading-tight tracking-[-0.015em]">Universal Dashboard</h2>
			</div>
			<div class="flex flex-col p-4 space-y-2" id="sidebar-tabs">
				<!-- Tabs will be injected by JS based on userRole -->
			</div>
		</div>
		<div class="layout-container flex h-full grow flex-col w-full">
			<header
				class="flex items-center justify-between whitespace-nowrap border-b border-solid border-gray-200 dark:border-gray-700 px-6 md:px-10 py-3 bg-white dark:bg-background-dark/80 backdrop-blur-sm sticky top-0 z-50">
				<div class="flex items-center gap-4">
					<div class="relative inline-block text-left">
						<button aria-expanded="true" aria-haspopup="true"
							class="inline-flex w-full justify-center items-center gap-x-1.5 rounded-md bg-white dark:bg-gray-800 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"
							id="menu-button" type="button">
							SUPER_ADMIN_REVIEWER
							<span class="material-symbols-outlined -mr-1 h-5 w-5 text-gray-400">expand_more</span>
						</button>
					</div>
				</div>
				<div class="flex flex-1 justify-center px-8">
					<label class="flex flex-col w-full !h-10 max-w-lg">
						<div class="flex w-full flex-1 items-stretch rounded-lg h-full">
							<div
								class="text-gray-500 dark:text-gray-400 flex bg-background-light dark:bg-gray-800 items-center justify-center pl-4 rounded-l-lg">
								<span class="material-symbols-outlined">search</span>
							</div>
							<input
								class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-lg text-neutral-text dark:text-gray-200 focus:outline-0 focus:ring-2 focus:ring-primary/50 ring-inset border-none bg-background-light dark:bg-gray-800 h-full placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 text-base font-normal leading-normal"
								placeholder="Search across all entities..." value="" />
						</div>
					</label>
				</div>
				<div class="flex items-center gap-4">
					<div class="flex gap-2">
						<button
							class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-background-light dark:bg-gray-800 text-neutral-text dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700">
							<span class="material-symbols-outlined">notifications</span>
						</button>
						<button
							class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-background-light dark:bg-gray-800 text-neutral-text dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700">
							<span class="material-symbols-outlined">help</span>
						</button>
					</div>
					<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
						data-alt="User avatar image"
						style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAr3YuQQxPtHa8SCPw1_fJORESNWhqmMHZBWGO7rdxn__3s2jYrs4fAex4RjCPHJJPID7lO5YA0ABhBWiGQMhWL1fjieLQ8syyPsalqzpuOm7a70ZMg1ioQPhSZAAZVd13et29nQufGpG7opXaPMpkSbMKsObkURfBYWUY10Qkn8hCqwzXEecwvmhtuM1og5-S9Hsdwf1_UUkFFp-dBcf0XOItiFUgimQYSZkWxYLhW1-rGf-JKpXBvdsr4Z9BkDoGWtk5csE1OszI");'>
					</div>
				</div>
			</header>
			<main class="flex-1 px-6 md:px-10 py-8">
				<div class="layout-content-container flex flex-col mx-auto w-full">
					<div class="layout-content-container flex flex-col mx-auto w-full" id="tab-content-container">
						<!-- Tab content will be injected by JS -->
					</div>
					<div id="tab-dashboard" class="tab-section" style="display:none;">
						<!-- Dashboard Banner -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-6">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white mb-4">Welcome to Universal Dashboard</h3>
								<p class="text-neutral-text dark:text-gray-300">Manage your projects, users, organizations, and more from this central hub.</p>
							</div>
						</div>
					</div>
					<div id="tab-projects" class="tab-section" style="display:none;">
						<!-- Projects Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Projects</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Title</th>
											<th class="px-6 py-3" scope="col">Partner</th>
											<th class="px-6 py-3" scope="col">Project No</th>
											<th class="px-6 py-3" scope="col">Category</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Start Date</th>
											<th class="px-6 py-3" scope="col">End Date</th>
											<th class="px-6 py-3" scope="col">Budget</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Title" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Partner" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Project No" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Category" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Start Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter End Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Budget" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="7"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="8"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Health initiative</td>
											<td class="px-6 py-4">Active</td>
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-users" class="tab-section" style="display:none;">
						<!-- Users Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Users</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Name</th>
											<th class="px-6 py-3" scope="col">Email</th>
											<th class="px-6 py-3" scope="col">Role</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Organization</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Name" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Email" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Role" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Organization" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">jane@example.com</td>
											<td class="px-6 py-4">Admin</td>
											<td class="px-6 py-4">Active</td>
											<td class="px-6 py-4">Example Org</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-organizations" class="tab-section" style="display:none;">
						<!-- Organizations Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Organizations</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Name</th>
											<th class="px-6 py-3" scope="col">Type</th>
											<th class="px-6 py-3" scope="col">Email</th>
											<th class="px-6 py-3" scope="col">Location</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Name" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Type" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Email" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Location" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Innovate Inc.</td>
											<td class="px-6 py-4">NGO</td>
											<td class="px-6 py-4">info@innovate.com</td>
											<td class="px-6 py-4">Nairobi</td>
											<td class="px-6 py-4">APPROVED</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-announcements" class="tab-section" style="display:none;">
						<!-- Announcements Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Announcements</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Title</th>
											<th class="px-6 py-3" scope="col">Content</th>
											<th class="px-6 py-3" scope="col">Date</th>
											<th class="px-6 py-3" scope="col">Created By</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Priority</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Title" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Content" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created By" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Priority" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">System Update</td>
											<td class="px-6 py-4">New features released</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">Admin</td>
											<td class="px-6 py-4">Published</td>
											<td class="px-6 py-4">High</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-collaboration" class="tab-section" style="display:none;">
						<!-- Collaboration Requests Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Collaboration Requests</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Requester</th>
											<th class="px-6 py-3" scope="col">Project</th>
											<th class="px-6 py-3" scope="col">Organization</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Message</th>
											<th class="px-6 py-3" scope="col">Date</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Requester" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Project" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Organization" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Message" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Innovate Inc.</td>
											<td class="px-6 py-4">Pending</td>
											<td class="px-6 py-4">Interested in collaborating</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-pastprojects" class="tab-section" style="display:none;">
						<!-- Past Projects Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Past Projects</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Name</th>
											<th class="px-6 py-3" scope="col">Description</th>
											<th class="px-6 py-3" scope="col">Organization</th>
											<th class="px-6 py-3" scope="col">Category</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Budget</th>
											<th class="px-6 py-3" scope="col">Completion Date</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Name" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Description" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Organization" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Category" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Budget" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Completion Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="7"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Health initiative</td>
											<td class="px-6 py-4">Innovate Inc.</td>
											<td class="px-6 py-4">Health</td>
											<td class="px-6 py-4">Completed</td>
											<td class="px-6 py-4">50000</td>
											<td class="px-6 py-4">2024-10-26</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-projectdocs" class="tab-section" style="display:none;">
						<!-- Project Documents Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Project Documents</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">File Name</th>
											<th class="px-6 py-3" scope="col">Project</th>
											<th class="px-6 py-3" scope="col">Uploaded By</th>
											<th class="px-6 py-3" scope="col">Type</th>
											<th class="px-6 py-3" scope="col">Size</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Date</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter File Name" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Project" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Uploaded By" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Type" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Size" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="7"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Proposal.pdf</td>
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">PDF</td>
											<td class="px-6 py-4">2.5 MB</td>
											<td class="px-6 py-4">Approved</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-projectreports" class="tab-section" style="display:none;">
						<!-- Project Reports Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Project Reports</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">Report Title</th>
											<th class="px-6 py-3" scope="col">Project</th>
											<th class="px-6 py-3" scope="col">Created By</th>
											<th class="px-6 py-3" scope="col">Type</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Date</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter Report Title" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Project" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created By" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Type" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Q4 Report</td>
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">Quarterly</td>
											<td class="px-6 py-4">Submitted</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-userdocs" class="tab-section" style="display:none;">
						<!-- User Documents Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">User Documents</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">File Name</th>
											<th class="px-6 py-3" scope="col">User</th>
											<th class="px-6 py-3" scope="col">Uploaded By</th>
											<th class="px-6 py-3" scope="col">Type</th>
											<th class="px-6 py-3" scope="col">Size</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Date</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter File Name" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter User" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Uploaded By" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Type" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Size" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="7"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">ID.pdf</td>
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">PDF</td>
											<td class="px-6 py-4">1.2 MB</td>
											<td class="px-6 py-4">Verified</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
					<div id="tab-collaborators" class="tab-section" style="display:none;">
						<!-- Project Collaborators Card -->
						<div class="bg-white dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8">
							<div class="p-4 flex flex-wrap justify-between items-center gap-4">
								<h3 class="text-lg font-bold text-neutral-text dark:text-white">Project Collaborators</h3>
								<div class="flex items-center gap-2">
									<button class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-background-light dark:bg-gray-800 pl-3 pr-2 text-sm font-medium text-neutral-text dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700">
										<span class="material-symbols-outlined text-base">file_download</span>
										<span>Export CSV</span>
									</button>
								</div>
							</div>
							<div class="overflow-x-auto">
								<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
									<thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-800">
										<tr>
											<th class="px-6 py-3" scope="col">User</th>
											<th class="px-6 py-3" scope="col">Project</th>
											<th class="px-6 py-3" scope="col">Organization</th>
											<th class="px-6 py-3" scope="col">Role</th>
											<th class="px-6 py-3" scope="col">Status</th>
											<th class="px-6 py-3" scope="col">Date Added</th>
											<th class="px-6 py-3" scope="col">Created At</th>
											<th class="px-6 py-3" scope="col"><span class="sr-only">Actions</span></th>
										</tr>
										<tr class="filter-row bg-gray-100 dark:bg-gray-700">
											<th class="px-6 py-2"><input type="text" placeholder="Filter User" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="0"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Project" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="1"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Organization" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="2"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Role" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="3"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Status" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="4"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Date Added" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="5"></th>
											<th class="px-6 py-2"><input type="text" placeholder="Filter Created At" class="filter-input w-full px-2 py-1 text-xs border rounded" data-column="6"></th>
											<th class="px-6 py-2"></th>
										</tr>
									</thead>
									<tbody>
										<!-- Example row -->
										<tr class="bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50">
											<td class="px-6 py-4">Jane Doe</td>
											<td class="px-6 py-4">Project Alpha</td>
											<td class="px-6 py-4">Innovate Inc.</td>
											<td class="px-6 py-4">Lead</td>
											<td class="px-6 py-4">Active</td>
											<td class="px-6 py-4">2025-11-27</td>
											<td class="px-6 py-4">2023-01-01</td>
											<td class="px-6 py-4 text-right"><button class="text-primary hover:underline font-medium">View</button></td>
										</tr>
									</tbody>
								</table>
							</div>
							<nav aria-label="Table navigation" class="flex items-center justify-between p-4">
								<span class="text-sm font-normal text-gray-500 dark:text-gray-400">Showing <span class="font-semibold text-gray-900 dark:text-white">1-1</span> of <span class="font-semibold text-gray-900 dark:text-white">1</span></span>
								<ul class="inline-flex -space-x-px text-sm h-8">
									<li><a class="flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Previous</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">1</a></li>
									<li><a class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white" href="#">Next</a></li>
								</ul>
							</nav>
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>

	<script>
async function apiFetch(endpoint, options = {}) {
  const token = window.authManager.getToken();
  if (!token) {
    alert('Not authenticated. Please log in.');
    window.location.href = 'index.html';
    return;
  }
  return fetch(`${window.BASE_URL}${endpoint}`, {
    ...options,
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json',
      ...options.headers,
    },
  });
}

function renderTable(tabId, data, columns) {
  const tbody = document.querySelector(`#${tabId} tbody`);
  if (!tbody) return;
  tbody.innerHTML = '';
  if (!Array.isArray(data)) {
    console.error('Data is not an array for', tabId, ':', data);
    return;
  }
  data.forEach(item => {
    const row = document.createElement('tr');
    row.className = 'bg-white dark:bg-gray-900/50 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50';
    columns.forEach(col => {
      const td = document.createElement('td');
      td.className = 'px-6 py-4';
      let value = getNestedValue(item, col) || '';
      // Format dates
      if ((col.includes('Date') || col.includes('At')) && value) {
        const date = new Date(value);
        if (!isNaN(date)) {
          value = date.toLocaleDateString('en-GB') + ', ' + date.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' });
        }
      }
      td.textContent = value;
      row.appendChild(td);
    });
    const actionTd = document.createElement('td');
    actionTd.className = 'px-6 py-4 text-right';
    actionTd.innerHTML = '';
    row.appendChild(actionTd);
    tbody.appendChild(row);
  });
}

function getNestedValue(obj, path) {
  return path.split('.').reduce((current, key) => current && current[key], obj);
}

async function fetchProjects() {
  try {
    const response = await apiFetch('/api/projects');
    if (!response.ok) throw new Error('Failed to fetch projects');
    const data = await response.json();
    const projects = data.data?.projects || data.data?.content || data.data || data;
    if (!Array.isArray(projects)) {
      console.error('Projects data not array:', projects);
      return;
    }
    renderTable('tab-projects', projects, ['title', 'partner', 'projectNo', 'projectCategory', 'status', 'startDate', 'endDate', 'budget', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-projects .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-projects tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-projects button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('projects.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Title', 'Partner', 'Project No', 'Category', 'Status', 'Start Date', 'End Date', 'Budget', 'Created At'];
      const rows = document.querySelectorAll('#tab-projects tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching projects:', error);
  }
}

async function fetchUsers() {
  try {
    const response = await apiFetch('/api/auth/admin/users');
    if (!response.ok) throw new Error('Failed to fetch users');
    const data = await response.json();
    const users = data.data?.users || data.data?.content || data.data || data;
    if (!Array.isArray(users)) {
      console.error('Users data not array:', users);
      return;
    }
    renderTable('tab-users', users, ['name', 'email', 'role', 'status', 'organization.name', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-users .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-users tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-users button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('users.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Name', 'Email', 'Role', 'Status', 'Organization', 'Created At'];
      const rows = document.querySelectorAll('#tab-users tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching users:', error);
  }
}

async function fetchOrganizations() {
  try {
    const response = await apiFetch('/api/organizations');
    if (!response.ok) throw new Error('Failed to fetch organizations');
    const data = await response.json();
    const orgs = data.data?.organizations || data.data?.content || data.data || data;
    if (!Array.isArray(orgs)) {
      console.error('Organizations data not array:', orgs);
      return;
    }
    renderTable('tab-organizations', orgs, ['name', 'organizationType', 'contactEmail', 'address', 'approvalStatus', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-organizations .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-organizations tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-organizations button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('organizations.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Name', 'Type', 'Email', 'Location', 'Status', 'Created At'];
      const rows = document.querySelectorAll('#tab-organizations tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching organizations:', error);
  }
}

async function fetchAnnouncements() {
  try {
    const response = await apiFetch('/api/announcements');
    if (!response.ok) throw new Error('Failed to fetch announcements');
    const data = await response.json();
    const announcements = data.data?.announcements || data.data?.content || data.data || data;
    if (!Array.isArray(announcements)) {
      console.error('Announcements data not array:', announcements);
      return;
    }
    renderTable('tab-announcements', announcements, ['title', 'content', 'deadline', 'createdBy.name', 'status', 'collaborationType', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-announcements .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-announcements tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-announcements button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('announcements.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Title', 'Content', 'Date', 'Created By', 'Status', 'Priority', 'Created At'];
      const rows = document.querySelectorAll('#tab-announcements tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching announcements:', error);
  }
}

async function fetchCollaborationRequests() {
  try {
    const response = await apiFetch('/api/collaboration-requests/admin/all');
    if (!response.ok) throw new Error('Failed to fetch collaboration requests');
    const data = await response.json();
    const requests = data.data?.collaborationRequests || data.data?.content || data.data || data;
    if (!Array.isArray(requests)) {
      console.error('Collaboration requests data not array:', requests);
      return;
    }
    renderTable('tab-collaboration', requests, ['requestingUser.name', 'announcement.title', 'requestingOrganization.name', 'status', 'message', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-collaboration .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-collaboration tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-collaboration button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('collaborationrequests.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Requester', 'Announcement', 'Organization', 'Status', 'Message', 'Created At'];
      const rows = document.querySelectorAll('#tab-collaboration tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching collaboration requests:', error);
  }
}

async function fetchPastProjects() {
  try {
    const response = await apiFetch('/api/past-projects');
    if (!response.ok) throw new Error('Failed to fetch past projects');
    const data = await response.json();
    const projects = data.data?.pastProjects || data.data?.content || data.data || data;
    if (!Array.isArray(projects)) {
      console.error('Past projects data not array:', projects);
      return;
    }
    renderTable('tab-pastprojects', projects, ['title', 'objectives', 'partner', 'projectCategory', 'finalStatus', 'budget', 'endDate', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-pastprojects .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-pastprojects tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-pastprojects button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('pastprojects.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Title', 'Objectives', 'Partner', 'Category', 'Status', 'Budget', 'End Date', 'Created At'];
      const rows = document.querySelectorAll('#tab-pastprojects tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching past projects:', error);
  }
}

async function fetchProjectReports() {
  try {
    const response = await apiFetch('/api/reports/admin/review');
    if (!response.ok) throw new Error('Failed to fetch project reports');
    const data = await response.json();
    const reports = data.data?.projectReports || data.data?.content || data.data || data;
    if (!Array.isArray(reports)) {
      console.error('Project reports data not array:', reports);
      return;
    }
    renderTable('tab-projectreports', reports, ['title', 'project.title', 'submittedBy', 'reportType', 'reportStatus', 'submittedAt', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-projectreports .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-projectreports tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-projectreports button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('projectreports.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['Title', 'Project', 'Submitted By', 'Type', 'Status', 'Submitted At', 'Created At'];
      const rows = document.querySelectorAll('#tab-projectreports tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching project reports:', error);
  }
}

async function fetchProjectCollaborators() {
  try {
    const response = await apiFetch('/api/project-collaborators');
    if (!response.ok) throw new Error('Failed to fetch project collaborators');
    const data = await response.json();
    const collaborators = data.data?.projectCollaborators || data.data?.content || data.data || data;
    if (!Array.isArray(collaborators)) {
      console.error('Project collaborators data not array:', collaborators);
      return;
    }
    renderTable('tab-collaborators', collaborators, ['user.name', 'project.title', 'organization.name', 'role', 'isActive', 'addedAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-collaborators .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-collaborators tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-collaborators button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('projectcollaborators.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['User', 'Project', 'Organization', 'Role', 'Status', 'Date Added'];
      const rows = document.querySelectorAll('#tab-collaborators tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching project collaborators:', error);
  }
}

async function fetchProjectDocuments() {
  try {
    const response = await apiFetch('/api/project-documents');
    if (!response.ok) throw new Error('Failed to fetch project documents');
    const data = await response.json();
    const documents = data.data?.projectDocuments || data.data?.content || data.data || data;
    if (!Array.isArray(documents)) {
      console.error('Project documents data not array:', documents);
      return;
    }
    renderTable('tab-projectdocs', documents, ['fileName', 'project', 'uploadedBy', 'type', 'size', 'status', 'date', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-projectdocs .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-projectdocs tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-projectdocs button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('projectdocuments.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['File Name', 'Project', 'Uploaded By', 'Type', 'Size', 'Status', 'Date', 'Created At'];
      const rows = document.querySelectorAll('#tab-projectdocs tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching project documents:', error);
  }
}

async function fetchUserDocuments() {
  try {
    const response = await apiFetch('/api/user-documents');
    if (!response.ok) throw new Error('Failed to fetch user documents');
    const data = await response.json();
    const documents = data.data?.userDocuments || data.data?.content || data.data || data;
    if (!Array.isArray(documents)) {
      console.error('User documents data not array:', documents);
      return;
    }
    renderTable('tab-userdocs', documents, ['fileName', 'user', 'uploadedBy', 'type', 'size', 'status', 'date', 'createdAt']);
    // Add column-wise search functionality
    const filterInputs = document.querySelectorAll('#tab-userdocs .filter-input');
    filterInputs.forEach(input => {
      input.addEventListener('input', filterTable);
    });
    function filterTable() {
      const rows = document.querySelectorAll('#tab-userdocs tbody tr');
      const filters = Array.from(filterInputs).map(input => input.value.toLowerCase());
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        let show = true;
        filters.forEach((filter, index) => {
          if (filter && cells[index] && !cells[index].textContent.toLowerCase().includes(filter)) {
            show = false;
          }
        });
        row.style.display = show ? '' : 'none';
      });
    }
    // Add export functionality
    const exportBtn = document.querySelector('#tab-userdocs button');
    if (exportBtn) {
      exportBtn.addEventListener('click', () => {
        exportTableToCSV('userdocuments.csv');
      });
    }
    function exportTableToCSV(filename) {
      const headers = ['File Name', 'User', 'Uploaded By', 'Type', 'Size', 'Status', 'Date', 'Created At'];
      const rows = document.querySelectorAll('#tab-userdocs tbody tr:not([style*="display: none"])');
      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).slice(0, -1).map(cell => '"' + cell.textContent.replace(/"/g, '""') + '"');
        csv += rowData.join(',') + '\n';
      });
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
  } catch (error) {
    console.error('Error fetching user documents:', error);
  }
}

document.addEventListener('DOMContentLoaded', function() {
	// Tab definitions by role
	const allTabs = [
		{ key: 'dashboard', label: 'Dashboard', icon: 'dashboard' },
		{ key: 'projects', label: 'Projects', icon: 'folder' },
		{ key: 'users', label: 'Users', icon: 'group' },
		{ key: 'organizations', label: 'Organizations', icon: 'apartment' },
		{ key: 'announcements', label: 'Announcements', icon: 'campaign' },
		{ key: 'collaboration', label: 'Collaboration Requests', icon: 'handshake' },
		{ key: 'pastprojects', label: 'Past Projects', icon: 'history' },
		{ key: 'projectdocs', label: 'Project Documents', icon: 'description' },
		{ key: 'projectreports', label: 'Project Reports', icon: 'assessment' },
		{ key: 'userdocs', label: 'User Documents', icon: 'badge' },
		{ key: 'collaborators', label: 'Project Collaborators', icon: 'groups' }
	];
	const roleTabs = {
		SUPER_ADMIN: allTabs,
		SUPER_ADMIN_APPROVER: allTabs,
		SUPER_ADMIN_REVIEWER: allTabs,
		DONOR: [
			allTabs[0], // Dashboard
			allTabs[1], // Projects
			allTabs[3], // Organizations
			allTabs[6], // Past Projects
			allTabs[7], // Project Documents
			allTabs[8], // Project Reports
			allTabs[10] // Project Collaborators
		],
		PARTNER: [
			allTabs[0], // Dashboard
			allTabs[1], // Projects
			allTabs[6], // Past Projects
			allTabs[7], // Project Documents
			allTabs[8], // Project Reports
			allTabs[10] // Project Collaborators
		]
	};
	// Get userRole from localStorage
	const userRole = localStorage.getItem('userRole') || 'SUPER_ADMIN_REVIEWER';
	const tabs = roleTabs[userRole] || roleTabs['PARTNER'];
	// Render sidebar tabs
	const sidebarTabsContainer = document.getElementById('sidebar-tabs');
	sidebarTabsContainer.innerHTML = '';
	tabs.forEach((tab, idx) => {
		const a = document.createElement('a');
		a.className = 'sidebar-tab flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-text dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800';
		a.setAttribute('data-tab', tab.key);
		a.setAttribute('href', '#');
		a.innerHTML = `<span class="material-symbols-outlined">${tab.icon}</span><span class="text-sm font-medium">${tab.label}</span>`;
		if (idx === 0) {
			a.classList.add('bg-primary/10', 'text-primary', 'dark:bg-primary/20', 'dark:text-white');
		}
		sidebarTabsContainer.appendChild(a);
	});
	// Tab switching logic
	const sidebarTabs = document.querySelectorAll('.sidebar-tab');
	const tabSections = {
		dashboard: document.getElementById('tab-dashboard'),
		projects: document.getElementById('tab-projects'),
		users: document.getElementById('tab-users'),
		organizations: document.getElementById('tab-organizations'),
		announcements: document.getElementById('tab-announcements'),
		collaboration: document.getElementById('tab-collaboration'),
		pastprojects: document.getElementById('tab-pastprojects'),
		projectdocs: document.getElementById('tab-projectdocs'),
		projectreports: document.getElementById('tab-projectreports'),
		userdocs: document.getElementById('tab-userdocs'),
		collaborators: document.getElementById('tab-collaborators')
	};
	function showTab(tab) {
		Object.values(tabSections).forEach(section => {
			if (section) section.style.display = 'none';
		});
		if (tabSections[tab]) {
			tabSections[tab].style.display = '';
			if (tab === 'projects') fetchProjects();
			else if (tab === 'users') fetchUsers();
			else if (tab === 'organizations') fetchOrganizations();
			else if (tab === 'announcements') fetchAnnouncements();
			else if (tab === 'pastprojects') fetchPastProjects();
			// Skipped: collaboration, projectreports, collaborators, projectdocs, userdocs
		}
		sidebarTabs.forEach(btn => btn.classList.remove('bg-primary/10', 'text-primary', 'dark:bg-primary/20', 'dark:text-white'));
		const activeBtn = Array.from(sidebarTabs).find(btn => btn.getAttribute('data-tab') === tab);
		if (activeBtn) activeBtn.classList.add('bg-primary/10', 'text-primary', 'dark:bg-primary/20', 'dark:text-white');
	}
	sidebarTabs.forEach(btn => {
		btn.addEventListener('click', function(e) {
			e.preventDefault();
			const tab = btn.getAttribute('data-tab');
			showTab(tab);
		});
	});
	// Show first tab by default
	showTab(tabs[0].key);
});
</script>
</body>

</html>